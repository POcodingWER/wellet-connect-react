const fs = require('fs');

const token =[
    9666,
    4408,
    9778,
    5934,
    5935,
    1598,
    5927,
    4964,
    5926,
    5934,
    5935,
    1598,
    5927,
    4964,
    5926,
    6920,
    980,
    1273,
    368,
    9127,
    6832,
    3515,
    5268,
    8390,
    8100,
    8262,
    9582,
    7008,
    3536,
    8641,
    151,
    7648,
    1788,
    7720,
    3196,
    3660,
    2842,
    1811,
    4137,
    5548,
    5074,
    2693,
    1513,
    4693,
    1697,
    6052,
    5722,
    8021,
    8729,
    1697,
    5592,
    5593,
    3972,
    9606,
    9534,
    9192,
    2968,
    8344,
    9120,
    2900,
    4863,
    2360,
    2360,
    9663,
    6341,
    20,
    2527,
    1244,
    7133,
    4336,
    7413,
    3200,
    1454,
    4770,
    3631,
    5016,
    9121,
    4521,
    4258,
    7413,
    1244,
    3200,
    6363,
    4499,
    961,
    782,
    7959,
    6944,
    2163,
    6799,
    5413,
    4457,
    2419,
    7282,
    5709,
    2048,
    7002,
    7488,
    9075,
    9493,
    2764,
    9589,
    9789,
    3331,
    6945,
    721,
    6607,
    8830,
    629,
    4129,
    5320,
    4922,
    4948,
    6832,
    3188,
    672,
    3343,
    7714,
    6037,
    2134,
    672,
    6935,
    3188,
    4948,
    8474,
    8028,
    1993,
    6301,
    2108,
    3433,
    7920,
    3547,
    2793,
    2436,
    2794,
    9714,
    2743,
    3020,
    3510,
    3604,
    2770,
    3519,
    7921,
    31,
    955,
    3603,
    2437,
    3511,
    3548,
    7919,
    7922,
    7923,
    3593,
    3592,
    3629,
    2742,
    3628,
    3520,
    6468,
    6054,
    6269,
    6084,
    5926,
    4964,
    5927,
    1598,
    5935,
    5934,
    2057,
    6841,
    7296,
    6897,
    652,
    9031,
    2057,
    5934,
    5935,
    1598,
    5927,
    4964,
    5926,
    3628,
    2742,
    3629,
    3592,
    3593,
    7923,
    7922,
    7919,
    3548,
    3511,
    2437,
    3603,
    955,
    31,
    7921,
    3519,
    2770,
    3604,
    3510,
    2743,
    9714,
    2794,
    2436,
    2793,
    3547,
    7920,
    2769,
    3520,
    3241,
    1403,
    9294,
    7538,
    2686,
    8670,
    2084,
    5105,
    4471,
    7040,
    7536,
    5710,
    5100,
    5404,
    798,
    3663,
    3313,
    1740,
    8607,
    7065,
    4092,
    5301,
    4916,
    7419,
    2253,
    7463,
    8617,
    8621,
    8618,
    8429,
    5632,
    7461,
    7460,
    6114,
    7180,
    9001,
    9003,
    9004,
    2213,
    5030,
    5029,
    2129,
    1574,
    4681,
    3463,
    1553,
    1554,
    1536,
    5037,
    1144,
    6275,
    5037,
    1536,
    1554,
    1553,
    3463,
    4681,
    1574,
    9001,
    9003,
    9004,
    2213,
    5030,
    5029,
    2129,
    7180,
    6114,
    7460,
    7461,
    5632,
    8429,
    8618,
    8621,
    8617,
    7463,
    2253,
    7419,
    4916,
    7065,
    4092,
    5301,
    7365,
    3349,
    3444,
    8352,
    8459,
    695,
    2586,
    5379,
    8520,
    428,
    9844,
    6123,
    2059,
    4450,
    1659,
    3304,
    4206,
    4307,
    8021,
    431,
    6556,
    4056,
    4307,
    5987,
    4379,
    1282,
    4525,
    5920,
    5387,
    9730,
    7543,
    758,
    7089,
    7542,
    7546,
    1208,
    7040,
    6885,
    3622,
    224,
    2918,
    205,
    82,
    4633,
    4633,
    8784,
    8784,
    4800,
    4800,
    3321,
    9030,
    6271,
    5154,
    224,
    3305,
    4302,
    7451,
    3825,
    2032,
    6205,
    5486,
    5670,
    3783,
    243,
    6271,
    5670,
    4568,
    4521,
    2470,
    3788,
    6100,
    7456,
    9344,
    6465,
    7109,
    9142,
    339,
    7378,
    7916,
    6053,
    2919,
    4633,
    6402,
    6085,
    1234,
    5797,
    8900,
    6827,
    4516,
    1018,
    3062,
    1947,
    1811,
    3107,
    9193,
    8900,
    5145,
    6236,
    2297,
    2297,
    6053,
    6236,
    890,
    9646,
    3731,
    2900,
    4024,
    1084,
    3731,
    9715,
    8515,
    8518,
    1084,
    2900,
    5960,
    3213,
    3214,
    3306,
    1811,
    1811,
    1478,
    1018,
    8258,
    2918,
    3622,
    845,
    1729,
    4975,
    3667,
    3668,
    5169,
    5170,
    4026,
    4025,
    554,
    671,
    4730,
    3410,
    785,
    3572,
    426,
    3675,
    6942,
    4633,
    4633,
    5903,
    5887,
    5882,
    9718,
    5878,
    5889,
    5918,
    5919,
    7488,
    4633,
    7604,
    1383,
    9193,
    2110,
    7859,
    1681,
    5434,
    3485,
    5155,
    1097,
    3297,
    5388,
    2894,
    6750,
    7705,
    2901,
    1730,
    3876,
    6139,
    845,
    3676,
    8260,
    1057,
    3769,
    8220,
    8219,
    4056,
    6556,
    6713,
    2182,
    7413,
    3153,
    564,
    6337,
    8521,
    5989,
    5989,
    2477,
    2478,
    1805,
    6630,
    3685,
    3639,
    3668,
    3410,
    1622,
    1729,
    7503,
    3622,
    2918,
    890,
    7491,
    7557,
    7618,
    7088,
    2418,
    6655,
    8612,
    6085,
    1742,
    7248,
    7556,
    8779,
    8472,
    6712,
    6319,
    6835,
    1027,
    71,
    498,
    671,
    426,
    2774,
    3200,
    6589,
    9343,
    243,
    2016,
    2016,
    3525,
    6356,
    5807,
    3062,
    6363,
    5762,
    4329,
    9139,
    3667,
    3688,
    9520,
    872,
    1869,
    1851,
    7960,
    5762,
    3774,
    5858,
    6351,
    3794,
    1244,
    1662,
    8191,
    7346,
    5819,
    4183,
    6354,
    2096,
    3490,
    6683,
    173,
    4265,
    5723,
    3695,
    5564,
    1789,
    2172,
    2242,
    606,
    1619,
    8774,
    697,
    7163,
    8813,
    331,
    4671,
    7093,
    2710,
    6965,
    4104,
    3238,
    9376,
    9274,
    4182,
    6091,
    4878,
    6340,
    6340,
    1052,
    9856,
    5841,
    8103,
    3683,
    1052,
    293,
    8174,
    3478,
    436,
    5811,
    1716,
    1710,
    7982,
    2890,
    1461,
    4799,
    2335,
    7081,
    4694,
    5483,
    6754,
    8664,
    5123,
    5793,
    2288,
    2670,
    6430,
    2415,
    3550,
    3269,
    2512,
    6004,
    2097,
    9187,
    7134,
    7133,
    4770,
    2990,
    7467,
    4564,
    5745,
    5965,
    2513,
    8725,
    1623,
    8421,
    5916,
    955,
    7922,
    7923,
    3593,
    3592,
    7920,
    2436,
    6013,
    9346,
    4300,
    1716,
    7346,
    496,
    1056,
    7113,
    1710,
    5724,
    7457,
    5987,
    1638,
    374,
    552,
    828,
    965,
    1528,
    1621,
    1984,
    2156,
    2523,
    2826,
    5538,
    7111,
    1808,
    2436,
    4643,
    955,
    6792,
    1077,
    7798,
    8451,
    9412,
    8452,
    4730,
    1431,
    9807,
    6573,
    80,
    3673,
    3177,
    6219,
    7920,
    2650,
    8375,
    7510,
    2004,
    4443,
    3592,
    3593,
    7027,
    7488,
    7488,
    5956,
    2794,
    3548,
    3604,
    2743,
    3547,
    2770,
    3519,
    7921,
    31,
    3603,
    4881,
    3604,
    3387,
    3505,
    2865,
    3237,
    6274,
    3376,
    2666,
    1138,
    6925,
    4478,
    4811,
    7488,
    6649,
    430,
    4484,
    1264,
    8137,
    4808,
    6978,
    5765,
    1183,
    1156,
    4538,
    5672,
    6904,
    3547,
    440,
    7712,
    7250,
    3502,
    5530,
    9506,
    299,
    7819,
    4321,
    7488,
    2865,
    3505,
    3387,
    3604,
    5956,
    4730,
    8452,
    9412,
    8451,
    1716,
    4300,
    9346,
    8421,
    6013,
    436,
    3478,
    3238,
    4104,
    6965,
    2710,
    331,
    8813,
    7163,
    697,
    3794,
    1244,
    3774,
    2774,
    9343,
    671,
    2551,
    6351,
    5858,
    3200,
    426,
    890,
    2918,
    3622,
    3668,
    7503,
    3410,
    3676,
    2894,
    3485,
    845,
    6832,
    2048,
    6139,
    2984,
    6750,
    5434,
    4922,
    1973,
    1681,
    4471,
    2419,
    5105,
    6799,
    7282,
    4457,
    5413,
    8641,
    4427,
    151,
    3536,
    7008,
    9582,
    2259,
    115,
    8100,
    2505,
    2280,
    5933,
    8262,
    8453,
    699,
    1795,
    217,
    3185,
    9528,
    7046,
    5214,
    864,
    53,
    8430,
    2909,
    6656,
    4682,
    3499,
    4658,
    5276,
    4868,
    6881,
    4274,
    5133,
    8859,
    8199,
    2085,
    2086,
    4539,
    8080,
    2610,
    6102,
    7778,
    2181,
    509,
    7955,
    4608,
    5673,
    1695,
    3730,
    3503,
    5474,
    1862,
    2387,
    376,
    8501,
    152,
    139,
    5818,
    5586,
    6602,
    6427,
    4174,
    3989,
    301,
    4779,
    23,
    2669,
    6531,
    2861,
    5874,
    8230,
    6119,
    8614,
    4772,
    9525,
    6448,
    109,
    1563,
    4949,
    7498,
    9293,
    7718,
    9277,
    5909,
    1272,
    222,
    797,
    797,
    222,
    2897,
    4669,
    8690,
    102,
    1226,
    2935,
    3620,
    3620,
    3619,
    7107,
    2793,
    9714,
    3510,
    2437,
    3629,
    2742,
    804,
    805,
    2664,
    5741,
    2475,
    2955,
    270,
    476,
    7922,
    7923,
    9190,
    31,
    2742,
    2743,
    1817,
    8649,
    862,
    534,
    763,
    4601,
    6306,
    9615,
    8828,
    8828,
    9615,
    6306,
    2731,
    8649,
    862,
    534,
    763,
    4601,
    2437,
    8289,
    5987,
    8417,
    3548,
    4841,
    6977,
    6165,
    6633,
    4131,
    2962,
    4805,
    97,
    95,
    96,
    2437,
    1098,
    1098,
    1098,
    1098,
    8648,
    3719,
    8261,
    4433,
    2798,
    5809,
    8728,
    8647,
    8632,
    8630,
    8629,
    2770,
    2793,
    3510,
    9244,
    9402,
    9445,
    9474,
    9547,
    9369,
    9714,
    8399,
    7683,
    8455,
    8470,
    8200,
    9613,
    1071,
    5687,
    1981,
    11,
    51,
    1030,
    1635,
    1854,
    1855,
    1906,
    1961,
    2236,
    2303,
    2612,
    2613,
    3632,
    3914,
    4065,
    4133,
    4204,
    2613,
    3632,
    5012,
    5914,
    6601,
    8770,
    8010,
    4533,
    2228,
    2603,
    6552,
    9341,
    5961,
    2769,
    3511,
    7919,
    3628,
    3520,
    3015,
    3426,
    3861,
    4743,
    5454,
    2341,
    3519,
    3629,
    2794,
    3479,
    7921,
    3861,
    2341,
    985,
    5454,
    3426,
    4823,
    9227,
    9226,
    9229,
    7705,
    4392,
    2709,
    8613,
    667,
    7867,
    7869,
    865,
    1296,
    745,
    2614,
    5559,
    2427,
    4743,
    5558,
    2615,
    745,
    1296,
    2427,
    4823,
    3426,
    9831,
    4743,
    1910,
    9593,
    6604,
    2614,
    5441,
    7561,
    5559,
    6501,
    7275,
    1009,
    7275,
    609,
    1521,
    1251,
    7729,
    7927,
    865,
    7170,
    7793,
    3698,
    8027,
    5972,
    6552,
    7979,
    5454,
    410,
    7949,
    7869,
    3808,
    764,
    3520,
    2470,
    8591,
    2471,
    6099,
    7729,
    2238,
    6769,
    7949,
    8570,
    5441,
    2769,
    667,
    2709,
    7705,
    7867,
    8613,
    483,
    7883,
    1698,
    1842,
    9851,
    5753,
    7919,
    7884,
    9605,
    483,
    2168,
    3346,
    225,
    612,
    611,
    610,
    4758,
    1374,
    5176,
    3262,
    1284,
    1284,
    972,
    972,
    5550,
    418,
    1041,
    3788,
    5650,
    1924,
    1924,
    8930,
    7287,
    5857,
    8931,
    46,
    3386,
    4927,
    5181,
    6201,
    6681,
    5417,
    6525,
    6110,
    7344,
    7684,
    8015,
    5558,
    8081,
    8098,
    3603,
    2615,
    6693,
    4392,
    2940,
    4159,
    419,
    5574,
    6396,
    5704,
    1501,
    3612,
    8570,
    1383,
    320,
    2084,
    4627,
    320,
    4627,
    1233,
    5202,
    4807,
    1312,
    6378,
    6437,
    6270,
    6743,
    7499,
    6539,
    2619,
    5549,
    6586,
    588,
    9429,
    2083,
    2825,
    2912,
    3018,
    3341,
    3372,
    3047,
    3212,
    3339,
    3400,
    3468,
    1454,
    4336,
    4398,
    8879,
    5689,
    5263,
    5263,
    9500,
    9500,
    5689,
    4770,
    7134,
    410,
    4336,
    7133,
    6821,
    2219,
    9389,
    1383,
    1750,
    745,
    7533,
    8894,
    3441,
    6982,
    7086,
    4764,
    3335,
    8541,
    2921,
    7974,
    3896,
    3896,
    8549,
    8550,
    8551,
    7754,
    7753,
    7755,
    7756,
    8547,
    9559,
    7757,
    5370,
    5369,
    6552,
    2427,
    6552,
    6552,
    1349,
    4056,
    6556,
    6713,
    4490,
    4398,
    8879,
    7926,
    5549,
    9437,
    1099,
    74,
    8589,
    4084,
    516,
    2089,
    6287,
    6677,
    9438,
    1454,
    9438,
    74,
    4247,
    7884,
    1698,
    9538,
    483,
    1842,
    149,
    7883,
    9403,
    5754,
    2130,
    2434,
    2130,
    9162,
    8257,
    2332,
    7524,
    4589,
    6399,
    8257,
    1679,
    7808,
    7524,
    4370,
    3778,
    5553,
    2807,
    8589,
    421,
    4338,
    7863,
    7945,
    6064,
    1703,
    9583,
    7442,
    3690,
    7656,
    7656,
    9403,
    9548,
    3048,
    4506,
    2760,
    5207,
    74,
    74,
    8554,
    2366,
    8492,
    3356,
    4893,
    8284,
    8285,
    4854,
    4794,
    8684,
    8598,
    8619,
    8432,
    6973,
    9636,
    5785,
    6713,
    2619,
    6586,
    8633,
    8631,
    7378,
    2822,
    8845,
    5427,
    6976,
    6310,
    4009,
    6915,
    4650,
    6036,
    1672,
    5282,
    6669,
    4410,
    4651,
    1878,
    8989,
    2084,
    858,
    858,
    1992,
    4140,
    2578,
    994,
    3696,
    9806,
    6974,
    5109,
    4159,
    2109,
    8706,
    2109,
    7038,
    7038,
    6840,
    7074,
    3152,
    3728,
    3853,
    7465,
    3573,
    3573,
    5092,
    2822,
    6036,
    4743,
    7465,
    5454,
    5454,
    9408,
    1981,
    51,
    11,
    1030,
    1635,
    1854,
    1855,
    1906,
    1961,
    4533,
    305,
    4626,
    4626,
    305,
    2531,
    1128,
    1128,
    2531,
    634,
    4490,
    6206,
    724,
    7956,
    5968,
    4361,
    8601,
    1384,
    4490,
    6867,
    5553,
    2554,
    5553,
    6918,
    5553,
    4157,
    3146,
    6918,
    4361,
    6206,]
const 거래내역 = {}
token.forEach((x) => {
    거래내역[x] = (거래내역[x] || 0) + 1;
});

console.log(거래내역);

let csv =`tokenNUM, grade, count \r\n`

fs.readFile('./벨리곰메타데이터.json', 'utf8', (error, jsonFile) => {
    if (error) return console.log(error);
    // console.log(jsonFile);

    const jsonData = JSON.parse(jsonFile);
    // console.log(jsonFile);

    const metas = jsonData;
    let Friends = 0;
    let Surprise = 0;
    let Super = 0;
    let Mega = 0;
    let Holic = 0;
    let Belly = 0;
    
    metas.forEach((meta,i) => {
        const grade = meta.attributes[7].value;
        if (grade === "Friends" && 거래내역[`${i}`]) {
            Friends += 거래내역[`${i}`];
            csv += `${i}, Friends, ${거래내역[i]} \r\n`
        } else if (grade === "Surprise" && 거래내역[`${i}`]) {
            Surprise += 거래내역[`${i}`];
            csv += `${i}, Surprise, ${거래내역[i]} \r\n`
        } else if (grade === "Super"&& 거래내역[`${i}`]) {
            Super += 거래내역[`${i}`];
            csv += `${i}, Super, ${거래내역[i]} \r\n`
        } else if (grade === "Mega"&& 거래내역[`${i}`]) {
            Mega += 거래내역[`${i}`];
            csv += `${i}, Mega, ${거래내역[i]} \r\n`
        } else if (grade === "Holic"&& 거래내역[`${i}`]) {
            Holic += 거래내역[`${i}`];
            csv += `${i}, Holic, ${거래내역[i]} \r\n`
        } else if (grade === "Belly"&& 거래내역[`${i}`]) {
            Belly += 거래내역[`${i}`];
            csv += `${i}, Belly, ${거래내역[i]} \r\n`
        }
    });
    console.log(`11월 1일 부터 11월 30일 까지 거래현황 Friends :${Friends}, 
    Surprise :${Surprise}, Super :${Super}, Mega :${Mega}, Holic :${Holic}, Belly :${Belly},`);
    fs.writeFileSync('등급별 아이디.csv', csv);

});


const json파일뽑기 = async () => {
    let Friends = 0;
    let Surprise = 0;
    let Super = 0;
    let Mega = 0;
    let Holic = 0;
    let Belly = 0;

    let json = [];
  for (let i = 0; i < 10000; i++) {
      let a = 0;
      a += token[`${i}`];
      console.log(i);
    // let url = `https://belly.bellygom.world/${i}.json`;
    // const grade = await axios(url).then((res) => json.push(res.data));
    
    if (grade === "Friends" && token[`${i}`]) {
        Friends += token[`${i}`];
    } else if (grade === "Surprise" && token[`${i}`]) {
        Surprise += token[`${i}`];
    } else if (grade === "Super"&& token[`${i}`]) {
        Super += token[`${i}`];
    } else if (grade === "Mega"&& token[`${i}`]) {
        Mega += token[`${i}`];
    } else if (grade === "Holic"&& token[`${i}`]) {
        Holic += token[`${i}`];
    } else if (grade === "Belly"&& token[`${i}`]) {
        Belly += token[`${i}`];
    }
  }
  fs.writeFileSync('1.json', JSON.stringify(json));
  console.log(`9월 1일 부터 지금까지 거래현황 Friends :${Friends}, 
  Surprise :${Surprise}, Super :${Super}, Mega :${Mega}, Holic :${Holic}, Belly :${Belly},`);
};
// json파일뽑기();
